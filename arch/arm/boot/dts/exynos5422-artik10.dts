/*
 * SAMSUNG ARTIK10 board device tree source
 *
 * Copyright (c) 2015 Samsung Electronics Co., Ltd.
 *             http://www.samsung.com
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
*/

/dts-v1/;
#include "exynos5422_evt0.dtsi"

/ {
	model = "Samsung ARTIK10 board based on EXYNOS5422";
	compatible = "samsung,artik10", "samsung,exynos5422";

	memory {
		reg = <0x40000000 0x80000000>;
	};

	chosen {
		bootargs = "console=ttySAC3,115200 vmalloc=512M ess_setup=0x46000000";
	};

	fixed-rate-clocks {
		oscclk {
			compatible = "samsung,exynos5422-oscclk";
			clock-frequency = <24000000>;
		};
	};

	rtc {
		status = "okay";
	};

	dwmmc0@12200000 {
		status = "okay";
		num-slots = <1>;
		broken-cd;
		bypass-smu;
		fixed_volt;
		only_once_tune;
		extra_tuning;
		supports-highspeed;
		supports-hs200-1-8v-mode;
		supports-ddr200-1-8v-mode;
		enable-cache-control;
		sw_data_timeout;
		fifo-depth = <0x40>;
		card-detect-delay = <200>;
		qos_int_level = <222000>;
		samsung,dw-mshc-ciu-div = <3>;
		samsung,dw-mshc-sdr-timing = <3 0 4 0>;
		samsung,dw-mshc-ddr-timing = <3 0 2 0>;
		samsung,dw-mshc-hs200-timing = <3 0 2 0>;
		samsung,dw-mshc-ddr200-timing = <1 1 2 0>;
		clk_pin = "gpc0-0";
		clk_addr = "13410000.pinctrl";
		clk_val = <0x3>;
		clk_str_num = <4>;
		num-ref-clks = <8>;
		ciu_clkin = <20812500 41625000 41625000 83250000 166500000
			     83250000 166500000 333000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&sd0_clk &sd0_cmd &sd0_rdqs &sd0_bus1 &sd0_bus4
			     &sd0_bus8>;

		slot@0 {
			reg = <0>;
			bus-width = <8>;
		};
	};

	dwmmc1@12210000 {
		status = "okay";
		num-slots = <1>;
		channel = <1>;
		caps-control;
		bypass-smu;
		clock-gate;
		enable-cclk-on-suspend;
		fixed_volt;
		only_once_tune;
		supports-highspeed;
		broken-cd;
		non-removable;
		enable-sdio-wakeup;
		sw_data_timeout;
		keep-power-in-suspend;
		pm-ignore-notify;
		cd-type-external;
		cd-type = <2>;
		use-broken-voltage;
		fifo-depth = <0x40>;
		card-detect-delay = <200>;
		qos_int_level = <222000>;
		samsung,dw-mshc-ciu-div = <3>;
		samsung,dw-mshc-sdr-timing = <3 0 3 0>;
		samsung,dw-mshc-ddr-timing = <3 0 2 0>;
		clk_pin = "gpc1-0";
		clk_addr = "13410000.pinctrl";
		clk_val = <0x3>;
		clk_str_num = <4>;
		num-ref-clks = <8>;
		ciu_clkin = <25000000 50000000 50000000 100000000 200000000 100000000 200000000 400000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&sd1_clk &sd1_cmd &sd1_bus1 &sd1_bus4>;

		slot@0 {
			reg = <0>;
			bus-width = <4>;
			disable-wp;
		};
	};

	dwmmc2@12220000 {
		status = "okay";
		num-slots = <1>;
		supports-highspeed;
		cd-type = <1>;
		sw_data_timeout;
		fifo-depth = <0x40>;
		card-detect-delay = <200>;
		qos_int_level = <222000>;
		samsung,dw-mshc-ciu-div = <3>;
		samsung,dw-mshc-sdr-timing = <3 0 4 0>;
		samsung,dw-mshc-ddr-timing = <3 0 2 0>;
		clk_pin = "gpc2-0";
		clk_addr = "13410000.pinctrl";
		clk_val = <0x3>;
		clk_str_num = <4>;
		num-ref-clks = <8>;
		ciu_clkin = <20812500 41625000 41625000 83250000 166500000
			     83250000 166500000 333000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&sd2_clk &sd2_cmd &sd2_cd &sd2_bus1 &sd2_bus4>;

		slot@0 {
			reg = <0>;
			bus-width = <4>;
			disable-wp;
		};
	};

	pinctrl@13400000 {
		pmic_irq: pmic-irq {
			samsung,pins = "gpx3-2";
			samsung,pin-pud = <3>;
			samsung,pin-drv = <3>;
		};

		cfg_wlanen: cfg-wlanen {
			samsung,pins = "gpx1-7";
			samsung,pin-function = <1>;
			samsung,pin-pud = <0>;
			samsung,pin-drv = <3>;
			samsung,pin-con-pdn = <3>;
			samsung,pin-pud-pdn = <0>;
		};

		cfg_wlanhostwake: cfg-wlanhostwake {
			samsung,pins = "gpx2-3";
			samsung,pin-function = <0>;
			samsung,pin-pud = <1>;
			samsung,pin-con-pdn = <2>;
			samsung,pin-pud-pdn = <0>;
		};

		cfg_en: cfg-en {
			samsung,pins ="gpx1-1";
			samsung,pin-function = <1>;
			samsung,pin-pud = <1>;
			samsung,pin-con-pdn = <3>;
			samsung,pin-pud-pdn = <1>;
		};

		cfg_hostwake: cfg-hostwake {
			samsung,pins = "gpx2-6";
			samsung,pin-function = <0>;
			samsung,pin-pud = <2>;
			samsung,pin-con-pdn = <2>;
			samsung,pin-pud-pdn = <0>;
		};

		cfg_btwake: cfg-btwake {
			samsung,pins = "gpx2-7";
			samsung,pin-function = <1>;
			samsung,pin-pud = <1>;
			samsung,pin-con-pdn = <0>;
			samsung,pin-pud-pdn = <1>;
		};
	};

	wlan {
		compatible = "samsung,brcm-wlan";
		gpios = <&gpx1 7 0x1	/* WLAN_EN */
			 &gpx2 3 0xF	/* WLAN_HOST_WAKE */
			>;
		pinctrl-names = "default";
		pinctrl-0=<&cfg_wlanen &cfg_wlanhostwake>;
		status = "okay";
	};

	serial@12C20000 {
		force-auto-flow-control;
	};

	bluetooth {
		compatible = "broadcom,bcm4354bt";

		gpios = <&gpx1 1 0	/* BT_EN */
			 &gpx2 7 0	/* BT_WAKE */
			 &gpx2 6 0xF	/* BT_HOST_WAKE */
			 >;

		pinctrl-names = "default";
		pinctrl-0=<&cfg_hostwake &cfg_btwake &cfg_en>;
		status = "okay";
	};

	hsi2c@12CC0000 {
		clock-frequency = <400000>;
		status = "okay";

		/* hdmi edid dirver */
		edid@50 {
			compatible = "samsung,exynos5-edid_driver";
			reg = <0x50>;
		};

		/* hdmi hdcp dirver */
		hdcp@3A {
			compatible = "samsung,exynos5-hdcp_driver";
			reg = <0x3A>;
		};
	};

	hsi2c@12CA0000 {
		samsung,hs-mode;
		clock-frequency = <400000>;
		status = "okay";

		s2mps11_pmic@66 {
			compatible = "samsung,s2mps11-pmic";
			reg = <0x66>;
			interrupts = <2 0 0>;
			interrupt-parent = <&gpx3>;
			pinctrl-names = "default";
			pinctrl-0 = <&pmic_irq>;
			/* RTC: wtsr/smpl */
			wtsr_en = <1>; /* enable */
			smpl_en = <1>; /* enable */
			wtsr_timer_val = <3>;   /* 1000ms */
			smpl_timer_val = <0>;   /* 500ms */
			check_jigon = <0>; /* do not check jigon */
			/* RTC: If it's first boot, reset rtc to 1/1/2014 12:00:00(Wed) */
			init_time,sec = <0>;
			init_time,min = <0>;
			init_time,hour = <12>;
			init_time,mday = <1>;
			init_time,mon = <0>;
			init_time,year = <114>;
			init_time,wday = <3>;

			regulators {
				buck1_reg: BUCK1 {
					regulator-name = "vdd_mif";
					regulator-min-microvolt = <700000>;
					regulator-max-microvolt = <1300000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				buck2_reg: BUCK2 {
					regulator-name = "vdd_eagle";
					regulator-min-microvolt = <800000>;
					regulator-max-microvolt = <1500000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				buck3_reg: BUCK3 {
					regulator-name = "vdd_int";
					regulator-min-microvolt = <800000>;
					regulator-max-microvolt = <1400000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				buck4_reg: BUCK4 {
					regulator-name = "vdd_g3d";
					regulator-min-microvolt = <700000>;
					regulator-max-microvolt = <1400000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				buck6_reg: BUCK6 {
					regulator-name = "vdd_kfc";
					regulator-min-microvolt = <800000>;
					regulator-max-microvolt = <1500000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				buck10_reg: BUCK10 {
					regulator-name = "vdd_cam_isp_1.0v";
					regulator-min-microvolt = <750000>;
					regulator-max-microvolt = <1500000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				ldo4_reg: LDO4 {
					regulator-name = "vdd_adc";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <1800000>;
					regulator-always-on;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				ldo6_reg: LDO6 {
					regulator-name = "vdd_ldo6";
					regulator-min-microvolt = <1000000>;
					regulator-max-microvolt = <1000000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
				};

				ldo7_reg: LDO7 {
					regulator-name = "vdd_ldo7";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <1800000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
				};

				ldo13_reg: LDO13 {
					regulator-name = "vqmmc";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <3300000>;
					regulator-boot-on;
					regulator-ramp-delay = <12000>;
					regulator-initial-mode = <1>;
				};

				ldo18_reg: LDO18 {
					regulator-name = "vdd_ldo18";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <1800000>;
					regulator-always-on;
					regulator-initial-mode = <3>;
				};

				ldo19_reg: LDO19 {
					regulator-name = "vmmc";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <1800000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
				};

				ldo20_reg: LDO20 {
					regulator-name = "vdd_ldo20";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <1800000>;
					regulator-always-on;
					regulator-initial-mode = <3>;
				};

				ldo23_reg: LDO23 {
					regulator-name = "vdd_mifs";
					regulator-min-microvolt = <800000>;
					regulator-max-microvolt = <1100000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
					regulator-ramp-delay = <12000>;
				};

				ldo24_reg: LDO24 {
					regulator-name = "vdd_ldo24";
					regulator-min-microvolt = <2400000>;
					regulator-max-microvolt = <2400000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
				};

				ldo25_reg: LDO25 {
					regulator-name = "vdd_ldo25";
					regulator-min-microvolt = <1800000>;
					regulator-max-microvolt = <1800000>;
				};

				ldo27_reg: LDO27 {
					regulator-name = "vdd_g3ds";
					regulator-min-microvolt = <800000>;
					regulator-max-microvolt = <1100000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
					regulator-ramp-delay = <12000>;
				};

				ldo28_reg: LDO28 {
					regulator-name = "vdd_ldo28";
					regulator-min-microvolt = <2800000>;
					regulator-max-microvolt = <2800000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
				};

				ldo38_reg: LDO38 {
					regulator-name = "vdd_ldo38";
					regulator-min-microvolt = <2800000>;
					regulator-max-microvolt = <2800000>;
					regulator-always-on;
					regulator-initial-mode = <1>;
				};

			};
		};
	};

	pinctrl@13400000 {
		b_sess0_irq: b-sess0-irq {
			samsung,pins = "gpx0-7";
			samsung,pin-function = <0xf>;
			samsung,pin-pud = <0>;
		};

		id0_irq: id0-irq {
			samsung,pins = "gpx3-5";
			samsung,pin-function = <0xf>;
			samsung,pin-pud = <3>;
			samsung,pin-con-pdn = <2>;
			samsung,pin-pud-pdn = <0>;
		};


		id2_irq: id2-irq {
			samsung,pins = "gpx3-1";
			samsung,pin-function = <0xf>;
			samsung,pin-pud = <0>;
		};

		chg_irq: chg-irq {
			samsung,pins = "gpx0-0";
			samsung,pin-function = <0>;
			samsung,pin-pud = <3>;
			samsung,pin-drv = <3>;
		};
	};

	pinctrl@14000000 {
		fimc_is_flash: fimc-is-flash {
			samsung,pins = "gpe0-3", "gpe0-2";
			samsung,pin-function = <2>;
			samsung,pin-pud = <0>;
			samsung,pin-drv = <0>;
		};

		codec_ctl_1: codec-ctl {
			samsung,pins = "gpj4-2";
			samsung,pin-con-pdn = <3>;
		};
	};

	dwc3_vbus: fixedregulator@0 {
		compatible = "regulator-fixed";
		regulator-name = "VUSB_BOOST_5V";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		gpio = <&gpy6 2 1>;
		enable-active-high;
	};

	usb@12000000 {
		dwc3-vbus-supply = <&dwc3_vbus>;
		samsung,bsess-gpio = <&gpx0 7 0xf>;
		pinctrl-names = "default";
		pinctrl-0 = <&b_sess0_irq>;
		samsung,id-gpio = <&gpx3 5 0xf>;
		pinctrl-names = "default";
		pinctrl-0 = <&id0_irq>;
		status = "okay";

		dwc3 {
			maximum-speed = "super-speed";
			dr_mode = "otg";
		};
	};

	usb@12110000 {
		samsung,boost5v-gpio = <&gpy6 4 1>;
	};

	usb-switch {
		samsung,id-gpio = <&gpx3 1  0xf>;
		pinctrl-names = "default";
		pinctrl-0 = <&id2_irq>;
	};

	spi_0: spi@12d20000 {
		status = "disabled";
	};

	spi_1: spi@12d30000 {
		status = "disabled";
	};

	spi_2: spi@12d40000 {
		status = "disabled";
	};

	ion {
		compatible = "samsung,exynos5430-ion";

		contig-names = "common",
			       "mfc_sh",
			       "g2d_wfd",
			       "video",
			       "sectbl",
			       "mfc_fw",
			       "mfc_nfw",
			       "secdma";

		contig = <0 0x400000 0x0>,
		         <2 0x100000 0x0>,
		         <10 0x800000 0x0>,
		         <11 0x6C00000 0x0>,
		         <9 0x100000 0x0>,
		         <8 0x100000 0x0>,
		         <12 0x100000 0x0>,
		         <13 0x20000 0x0>;

		contig-isolate_on_boot = <0>, <2>, <8>,
					  <9>, <10>, <11>, <12>, <13>;

		ion_noncontig_heap {
			id-type = <0 0>;
		};

		exynos_contig_heap {
			id-type = <4 6>;
		};
	};
};
